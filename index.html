<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tax Calculator</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body>
    <section class="vh-100">
      <div class="align-items-center h-100">
        <div class="container h-100">
          <div class="d-flex justify-content-center align-items-center h-100">
            <div class="col-12 col-md-9 col-lg-7 col-xl-6">
              <div class="card">
                <div class="card-body p-5">
                  <h2 class="text-center mb-5 text-uppercase">
                    Tax Calculator
                  </h2>

                  <form id="taxForm" class="center">
                    <div class="mb-3 position-relative">
                      <label for="income" class="label-wrapper">
                        Enter gross annual income
                        <span
                          class="question-icon"
                          data-bs-toggle="popover"
                          data-bs-placement="top"
                          data-bs-content="incomePopoverContent"
                        >
                          <ion-icon name="help-circle-outline"></ion-icon>
                        </span>
                      </label>
                      <input
                        type="number"
                        class="form-control"
                        id="income"
                        placeholder="Enter gross annual income"
                        required
                      />
                      <ion-icon
                        name="information-circle-outline"
                        class="info-icon"
                        data-bs-toggle="popover"
                        data-bs-placement="top"
                        data-bs-content="incomeInfoPopoverContent"
                      ></ion-icon>
                      <div class="error-icon" id="incomeError"></div>
                    </div>

                    <div class="mb-3">
                      <label for="extraIncome" class="label-wrapper">
                        Enter extra Income
                        <span
                          class="question-icon"
                          data-bs-toggle="popover"
                          data-bs-placement="top"
                          data-bs-content="extraIncomePopoverContent"
                        >
                          <ion-icon name="help-circle-outline"></ion-icon>
                        </span>
                      </label>
                      <input
                        type="number"
                        class="form-control"
                        id="extraIncome"
                        placeholder="Enter extra Income from other sources"
                      />
                      <div class="error-icon" id="extraIncomeError"></div>
                    </div>
                    <div class="mb-3">
                      <label for="age" class="label-wrapper"
                        >Enter age group
                        <span
                          class="question-icon"
                          data-bs-toggle="popover"
                          data-bs-placement="top"
                          data-bs-content="agePopoverContent"
                        >
                          <ion-icon name="help-circle-outline"></ion-icon>
                        </span>
                      </label>
                      <select class="form-select" id="age" required>
                        <option value="" selected disabled></option>
                        <option value="< 40">&lt; 40</option>
                        <option value=">=40 < 60">&ge;40 &lt; 60</option>
                        <option value=">=60">&ge;60</option>
                      </select>
                      <div class="error-icon" id="ageError"></div>
                    </div>
                    <div class="mb-3">
                      <label for="deductions" class="label-wrapper"
                        >Enter total applicable deductions
                        <span
                          class="question-icon"
                          data-bs-toggle="popover"
                          data-bs-placement="top"
                          data-bs-content="deductionsPopoverContent"
                        >
                          <ion-icon name="help-circle-outline"></ion-icon>
                        </span>
                      </label>
                      <input
                        type="number"
                        class="form-control"
                        id="deductions"
                        placeholder="Add total applicable deductions"
                      />
                      <div class="error-icon" id="deductionsError"></div>
                    </div>
                    <br />
                    <button type="submit" class="btn btn-primary w-100">
                      Submit
                    </button>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Popover content -->
    <div class="popover" id="incomeInfoPopoverContent" style="display: none">
      Please enter numbers only
    </div>

    <div id="incomePopoverContent" style="display: none">
      Gross annual income is your total salary in a year before any deductions
    </div>
    <div id="extraIncomePopoverContent" style="display: none">
      Extra income refers to any additional income you receive apart from your
      salary, such as bonuses, freelance earnings, or investment returns.
    </div>
    <div id="agePopoverContent" style="display: none">
      Age group refers to the age range you belong to. Select the appropriate
      option based on your age.
    </div>
    <div id="deductionsPopoverContent" style="display: none">
      Total applicable deductions represent any allowable expenses or deductions
      that can be subtracted from your income before calculating taxes. This
      could include deductions such as investments, medical expenses, or
      education expenses.
    </div>

    <!-- Modal -->
    <div class="modal" id="resultModal" tabindex="-1" aria-labelledby="resultModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-body">
                <div class="text-center mt-3">
                    <h5 class="modal-title" id="resultModalLabel">
                      Your overall income will be
                    </h5>
                    <div class="modal-text" id="resultText"></div>
                    <p class="mb-3">after tax deductions</p>
                </div>
                <div class="text-center mt-3">
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Close</button>
                </div>
              </div>
            </div>
          </div>
        </div>
    </div>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
      crossorigin="anonymous"
    ></script>
    <script
      type="module"
      src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"
    ></script>
    <script
      nomodule
      src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"
    ></script>
    <script src="js/script.js"></script>
  </body>
</html>
